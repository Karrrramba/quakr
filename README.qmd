---
title: "Readme"
author: Michal Rackiewicz
format: gfm
editor: visual
execute: 
  warning: false
  echo: false
---

# QuakeR

This is my capstone project of the [Mastering Software Development in R](https://www.coursera.org/specializations/r) specialization on Coursera.

The Earthquake data was obtained from the [National Centers of Environmental Information](https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.ngdc.mgg.hazards:G012153) (doi: 10.7289/V5TD9V7K).

```{r packages, message=FALSE}


library(tidyverse)

library(dplyr)
library(janitor)
library(ggplot2)
library(lubridate)
library(magrittr)
library(readr)
library(stringr)

```

eq_clean_data() that takes raw NOAA data frame and returns a clean data frame. The clean data frame should have the following:

A date column created by uniting the year, month, day and converting it to the Date class

LATITUDE and LONGITUDE columns converted to numeric class

In addition, write a function eq_location_clean() that cleans the LOCATION_NAME column by stripping out the country name (including the colon) and converts names to title case (as opposed to all caps). This will be needed later for annotating visualizations. This function should be applied to the raw data to produce a cleaned up version of the LOCATION_NAME column.

```{r eq_clean_data}

data <- read_tsv("data/earthquakes-2024-04-29_16-19-32_+0200.tsv")

data %>% 
  dplyr::mutate(Date = lubridate::make_date(Year, Mo, Dy))
```

1.  Build a geom for ggplot2 called geom_timeline() for plotting a time line of earthquakes ranging from xmin to xmax dates with a point for each earthquake. Optional aesthetics include color, size, and alpha (for transparency). The xaesthetic is a date and an optional y aesthetic is a factor indicating some stratification in which case multiple time lines will be plotted for each level of the factor (e.g. country).

    ```{r geom_timeline}

    ```

2.  Build a geom called geom_timeline_label() for adding annotations to the earthquake data. This geom adds a vertical line to each data point with a text annotation (e.g. the location of the earthquake) attached to each line. There should be an option to subset to n_max number of earthquakes, where we take the n_max largest (by magnitude) earthquakes. Aesthetics are x, which is the date of the earthquake and label which takes the column name from which annotations will be obtained.

```{r geom_timeline_label}

```
