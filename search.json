[{"path":"https://karrrramba.github.io/quakr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 quakr authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to quakr","text":"quakr package provides tools analyzing visualizing earthquake data. vignette demonstrates basic functionality package, including data loading, cleaning, visualization.","code":""},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"loading-data","dir":"Articles","previous_headings":"","what":"Loading Data","title":"Introduction to quakr","text":"package designed process raw data NCEI database (doi: 10.7289/V5TD9V7K), also includes two datasets: world southamerica. world dataset contains whole dataset (05/2024), filtered complete observations : geographic geopolitical location (country, state/city/area, longitude latitude) magnitude total deaths ensures quakr functions can used data. Additional column entries left -. southamerica dataset reduced version containing complete earthquake observations South America. Additionally, reduced contain minimal information demonstrate package works. Let’s load inspect dataset. data(“world”, package = “quakr”)","code":"#> # A tibble: 6 × 26 #>    Year    Mo    Dy    Hr    Mn   Sec   Tsu   Vol `Location Name`       Latitude #>   <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <chr>                    <dbl> #> 1 -2150    NA    NA    NA    NA    NA    NA    NA JORDAN:  BAB-A-DARAA…     31.1 #> 2 -2000    NA    NA    NA    NA    NA    NA    NA TURKMENISTAN:  W          38   #> 3 -1250    NA    NA    NA    NA    NA    NA    NA ISRAEL:  ARIHA (JERI…     32   #> 4 -1050    NA    NA    NA    NA    NA    NA    NA JORDAN:  SW:  TIMNA …     29.6 #> 5  -479    NA    NA    NA    NA    NA     9    NA GREECE:  MACEDONIA        39.7 #> 6  -426     6    NA    NA    NA    NA    10    NA GREECE:  EUBOEA           38.9 #> # ℹ 16 more variables: Longitude <dbl>, `Focal Depth (km)` <dbl>, Mag <dbl>, #> #   `MMI Int` <dbl>, Deaths <dbl>, Missing <dbl>, Injuries <dbl>, #> #   `Damage ($Mil)` <dbl>, `Houses Destroyed` <dbl>, `Houses Damaged` <dbl>, #> #   `Total Deaths` <dbl>, `Total Missing` <dbl>, `Total Injuries` <dbl>, #> #   `Total Damage ($Mil)` <dbl>, `Total Houses Destroyed` <dbl>, #> #   `Total Houses Damaged` <dbl> #> # A tibble: 6 × 7 #>   country   location            date       longitude latitude   mag total_deaths #>   <chr>     <chr>               <date>         <dbl>    <dbl> <dbl>        <dbl> #> 1 VENEZUELA Macuto              1900-10-29     -66     11       7.7           25 #> 2 ECUADOR   Off Coast           1906-01-31     -79.4    0.955   8.8         1000 #> 3 CHILE     South Central       1906-08-17     -72    -33       8.2         4000 #> 4 PERU      Amyaraes, Abancay,… 1913-11-04     -72.9  -14.2     6.3          150 #> 5 COLOMBIA  Bogota, Ubaque, So… 1917-08-31     -74      4       7.3            3 #> 6 ARGENTINA Mendoza             1920-12-17     -68.4  -32.7     6            400"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"data-cleaning","dir":"Articles","previous_headings":"","what":"Data Cleaning","title":"Introduction to quakr","text":"quakr comes two data cleaning functions: eq_lean_data() eq_location_clean. eq_lean_data() transforms raw data format can used package functions, eq_location_clean separates country location information leaves columns original state.","code":"data <- data.frame(location_name = c(\"VENEZUELA: Churuguara, Falcon, Lara; CHILE: Northern\",                               \"PERU: Amyaraes, Abancay, Casaya, Soraya\"),            date = as.Date(c(1900-10-29, 1913-11-04))) eq_location_clean(data) #> # A tibble: 3 × 3 #>   country   location                          date       #>   <chr>     <chr>                             <date>     #> 1 VENEZUELA Churuguara, Falcon, Lara          1975-02-05 #> 2 CHILE     Northern                          1975-02-05 #> 3 PERU      Amyaraes, Abancay, Casaya, Soraya 1975-03-14 cleaned_data <- eq_clean_data(world) head(cleaned_data) #> # A tibble: 6 × 25 #>      hr    mn   sec   tsu   vol country location   date       latitude longitude #>   <dbl> <dbl> <dbl> <dbl> <dbl> <chr>   <chr>      <date>        <dbl>     <dbl> #> 1    NA    NA    NA    NA    NA CHINA   Gansu Pro… -186-02-22     33.8     106.  #> 2    NA    NA    NA    NA    NA CHINA   Shandong … -70-06-01      36.3     119   #> 3    NA    NA     0    NA    NA ISRAEL  Qumran,Ar… -31-09-02      32        35.5 #> 4    NA    NA    NA    NA    NA CHINA   Henan Pro… 46-10-23       33       112.  #> 5    NA    NA    NA  4396    NA TURKEY  Antakya (… 115-12-13      36.1      36.1 #> 6    NA    NA    NA    NA    NA CHINA   Gansu Pro… 128-02-23      34.7     105.  #> # ℹ 15 more variables: focal_depth_km <dbl>, mag <dbl>, mmi_int <dbl>, #> #   deaths <dbl>, missing <dbl>, injuries <dbl>, damage_mil <dbl>, #> #   houses_destroyed <dbl>, houses_damaged <dbl>, total_deaths <dbl>, #> #   total_missing <dbl>, total_injuries <dbl>, total_damage_mil <dbl>, #> #   total_houses_destroyed <dbl>, total_houses_damaged <dbl>"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"visualizing-earthquake-data","dir":"Articles","previous_headings":"","what":"Visualizing Earthquake Data","title":"Introduction to quakr","text":"package provides several functions visualizing earthquake data. One primary visualization functions geom_timeline, plots earthquake events timeline.","code":""},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"basic-timeline-plot","dir":"Articles","previous_headings":"Visualizing Earthquake Data","what":"Basic Timeline Plot","title":"Introduction to quakr","text":"","code":"# Filter the data for Chilean earthquakes since 1970 chile_data <- southamerica %>%   filter(country == \"CHILE\" & lubridate::year(date) >= 1970)  # Create a basic timeline plot ggplot(chile_data, aes(x = date)) +   geom_timeline(aes(xmin = min(date), xmax = max(date))) +   theme_minimal() +   labs(x = \"Year\",        size = \"Richter Scale Magnitude\",        col = \"Total Deaths\")"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"adding-labels-to-the-timeline","dir":"Articles","previous_headings":"Visualizing Earthquake Data","what":"Adding Labels to the Timeline","title":"Introduction to quakr","text":"geom_timeline_label function can used add labels timeline plot, making easier identify significant events.","code":"ggplot(chile_data, aes(x = date)) +   geom_timeline(aes(xmin = min(date), xmax = max(date),                      size = mag, col = total_deaths)) +   geom_timeline_label(aes(label = location)) +   theme_minimal() +   labs(x = \"Year\",        size = \"Richter Scale Magnitude\",        col = \"Total Deaths\") +   theme(legend.position = \"bottom\")"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"using-alternating-labels","dir":"Articles","previous_headings":"Visualizing Earthquake Data","what":"Using Alternating Labels","title":"Introduction to quakr","text":"Additional check_overlap , reduces overplotting labels blocking text displayed, label_dodge parameter uses alternating vertical orientation text labels.","code":"ggplot(chile_data, aes(x = date)) +   geom_timeline(aes(xmin = min(date), xmax = max(date),                      size = mag, col = total_deaths)) +   geom_timeline_label(aes(label = location),                        check_overlap = TRUE) +   theme_minimal() +   labs(x = \"Year\",        size = \"Richter Scale Magnitude\",        col = \"Total Deaths\") +   theme(legend.position = \"bottom\") ggplot(chile_data, aes(x = date)) +   geom_timeline(aes(xmin = min(date), xmax = max(date),                      size = mag, col = total_deaths)) +   geom_timeline_label(aes(label = location),                       check_overlap = TRUE,                       label_dodge = TRUE) +   theme_minimal() +   labs(x = \"Year\",        size = \"Richter Scale Magnitude\",        col = \"Total Deaths\") +   theme(legend.position = \"bottom\")"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"limiting-the-number-of-labels","dir":"Articles","previous_headings":"Visualizing Earthquake Data","what":"Limiting the Number of Labels","title":"Introduction to quakr","text":"avoid overcrowding plot, can limit number labels displayed based earthquake magnitude.","code":"ggplot(chile_data, aes(x = date)) +   geom_timeline(aes(xmin = min(date), xmax = max(date),                     size = mag, col = total_deaths)) +   geom_timeline_label(aes(label = location, limit = mag),                        n_max = 3,                        label_dodge = TRUE) +   theme_minimal() +   labs(x = \"Year\",        size = \"Richter Scale Magnitude\",        col = \"Total Deaths\") +   theme(legend.position = \"bottom\")"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"interactive-maps","dir":"Articles","previous_headings":"Visualizing Earthquake Data","what":"Interactive Maps","title":"Introduction to quakr","text":"quakr package also supports creating interactive maps using leaflet.","code":""},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"basic-map","dir":"Articles","previous_headings":"Visualizing Earthquake Data > Interactive Maps","what":"Basic Map","title":"Introduction to quakr","text":"can customize general visuals map points setting provider color parameters.","code":"# Adjust point size with the `scaling_factor` parameter cleaned_data %>%    eq_map(annot_col = \"date\", scaling_factor = 5) cleaned_data %>%    eq_map(annot_col = 'date', provider = \"Esri.NatGeoWorldMap\", color = \"blue\")"},{"path":"https://karrrramba.github.io/quakr/articles/quakr.html","id":"adding-labels-to-maps","dir":"Articles","previous_headings":"Visualizing Earthquake Data > Interactive Maps","what":"Adding Labels to Maps","title":"Introduction to quakr","text":"can add information interactive labels via eq_create_label() function. default information includes location, magnitude total deaths. Eq_create_label allows customization adding variables defaults replacing defaults entirely.","code":"chile_data %>%    mutate(label = eq_create_label(., defaults = TRUE)) %>%    eq_map(annot_col = \"label\", scaling_factor = 5) chile_data %>%    mutate(label = eq_create_label(., defaults = TRUE, \"date\")) %>%    eq_map(annot_col = \"label\", scaling_factor = 5) chile_data %>%    mutate(label = eq_create_label(., defaults = FALSE, \"date\", \"mag\")) %>%    eq_map(annot_col = \"label\", scaling_factor = 5)"},{"path":"https://karrrramba.github.io/quakr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michal Rackiewicz. Author, maintainer.","code":""},{"path":"https://karrrramba.github.io/quakr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rackiewicz M (2024). quakr: Creates Visualizations Earthquakes. R package version 0.1.0, https://karrrramba.github.io/quakr/, https://github.com/Karrrramba/quakr.","code":"@Manual{,   title = {quakr: Creates Visualizations of Earthquakes},   author = {Michal Rackiewicz},   year = {2024},   note = {R package version 0.1.0, https://karrrramba.github.io/quakr/},   url = {https://github.com/Karrrramba/quakr}, }"},{"path":"https://karrrramba.github.io/quakr/index.html","id":"quakr","dir":"","previous_headings":"","what":"Creates Visualizations of Earthquakes","title":"Creates Visualizations of Earthquakes","text":"capstone project Mastering Software Development R specialization Coursera. Earthquake data obtained National Centers Environmental Information (doi: 10.7289/V5TD9V7K). quakr package provides quality life tools analysis visualizations earthquake data.","code":""},{"path":"https://karrrramba.github.io/quakr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Creates Visualizations of Earthquakes","text":"can install development version quakr executing following code: installation, load package R session :","code":"remotes::install_github(\"Karrrramba/quakr\") library(quakr) library(ggplot2) library(dplyr) library(leaflet)"},{"path":"https://karrrramba.github.io/quakr/index.html","id":"overview","dir":"","previous_headings":"Installation","what":"Overview","title":"Creates Visualizations of Earthquakes","text":"find examples illustrate visualization features. package’s vignette shows customization options timelines interactive maps.","code":"# Load dataset data(\"southamerica\", package = \"quakr\") southamerica %>%    filter(country %in% c(\"PERU\", \"CHILE\") & lubridate::year(date) >= 2000) %>%   ggplot(aes(x = date, y = country)) +   # Plot a timeline of earthquake events   geom_timeline(aes(xmin = min(date), xmax = max(date),                      size = mag, col = total_deaths)) +   # Add labels    geom_timeline_label(aes(label = location),                       fontsize = 2,                       rot = 10,                       check_overlap = TRUE,                       label_dodge = TRUE) +   theme_minimal() +   labs(x = \"Year\",        y = \"\",        size = \"Richter Scale Magnitude\",        col = \"Total Deaths\") +   theme(legend.position = \"bottom\") # This is only a snapshot of the resulting interactive plot. southamerica %>%    filter(country == \"CHILE\" & lubridate::year(date) >= 2000) %>%   mutate(label = eq_create_label(., defaults = FALSE, \"date\", \"mag\")) %>%    eq_map(annot_col = \"label\", scaling_factor = 5)"},{"path":"https://karrrramba.github.io/quakr/reference/eq_clean_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Formats raw NCEI data for visualizations — eq_clean_data","title":"Formats raw NCEI data for visualizations — eq_clean_data","text":"Performs various data formatting tasks: cleans capitalizes column names, creates 'date' well 'country' 'location' columns, removes respective original columns. Observations without complete date information removed.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_clean_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formats raw NCEI data for visualizations — eq_clean_data","text":"","code":"eq_clean_data(data)"},{"path":"https://karrrramba.github.io/quakr/reference/eq_clean_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formats raw NCEI data for visualizations — eq_clean_data","text":"data data frame raw NCEI earthquake data.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_clean_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formats raw NCEI data for visualizations — eq_clean_data","text":"data frame.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_clean_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formats raw NCEI data for visualizations — eq_clean_data","text":"","code":"world %>%   eq_clean_data() %>%   dplyr::select(date, country, location) %>%   head() #> # A tibble: 6 × 3 #>   date       country location                 #>   <date>     <chr>   <chr>                    #> 1 -186-02-22 CHINA   Gansu Province           #> 2 -70-06-01  CHINA   Shandong Province        #> 3 -31-09-02  ISRAEL  Qumran,Ariha (Jericho)   #> 4 46-10-23   CHINA   Henan Province:  Nanyang #> 5 115-12-13  TURKEY  Antakya (Antioch)        #> 6 128-02-23  CHINA   Gansu Province:  Gangu"},{"path":"https://karrrramba.github.io/quakr/reference/eq_create_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Event Labels — eq_create_label","title":"Create Event Labels — eq_create_label","text":"Helper function creates HMTL-formatted information     based user-specified variables. default uses 'location','mag' '     total_deaths' variables.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_create_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Event Labels — eq_create_label","text":"","code":"eq_create_label(data, defaults = TRUE, ...)"},{"path":"https://karrrramba.github.io/quakr/reference/eq_create_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Event Labels — eq_create_label","text":"data data frame. defaults Specifies whether default variables 'location', 'mag' 'total_deaths' used. Defaults `TRUE`. `FALSE` additional variables added via `...` labell empty. ... Additional variables add label instead defaults.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_create_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Event Labels — eq_create_label","text":"data frame HTML-formatted label information.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_create_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Event Labels — eq_create_label","text":"","code":"library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  #create label column southamerica %>%   mutate(popup_text = eq_create_label(.)) %>%   head() #> # A tibble: 6 × 8 #>   country   location date       longitude latitude   mag total_deaths popup_text #>   <chr>     <chr>    <date>         <dbl>    <dbl> <dbl>        <dbl> <chr>      #> 1 VENEZUELA Macuto   1900-10-29     -66     11       7.7           25 <b>Locati… #> 2 ECUADOR   Off Coa… 1906-01-31     -79.4    0.955   8.8         1000 <b>Locati… #> 3 CHILE     South C… 1906-08-17     -72    -33       8.2         4000 <b>Locati… #> 4 PERU      Amyarae… 1913-11-04     -72.9  -14.2     6.3          150 <b>Locati… #> 5 COLOMBIA  Bogota,… 1917-08-31     -74      4       7.3            3 <b>Locati… #> 6 ARGENTINA Mendoza  1920-12-17     -68.4  -32.7     6            400 <b>Locati…  # use labels in a plot southamerica %>%   filter(country == \"CHILE\" & lubridate::year(date) >= 1970) %>%   mutate(popup_text = eq_create_label(.)) %>%   eq_map(annot_col = \"popup_text\")  {\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addProviderTiles\",\"args\":[\"Esri.WorldTopoMap\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]},{\"method\":\"addCircles\",\"args\":[[-25.5,-32.5,-29.9,-20.52,-33.134,-26.535,-33.132,-32.663,-34.131,-24.388,-19.022,-17.897,-23.34,-30.933,-19.987,-45.243,-22.247,-36.122,-35.2,-32.625,-19.61,-31.573,-33.212,-30.04,-40.815,-35.473],[-69.2,-71.2,-71.3,-68.92,-73.074,-70.563,-71.708,-71.551,-71.61799999999999,-70.161,-69.991,-70.931,-70.294,-71.22,-69.197,-72.648,-69.89,-72.898,-72.217,-71.36499999999999,-70.76900000000001,-71.67400000000001,-70.626,-71.38200000000001,-72.002,-73.16200000000001],[6300,7800,6900,7300,7500,7300,8000,6600,7500,7300,6900,6400,8000,7100,7700,6200,7700,8800,7200,6700,8200,8300,5400,6700,6100,6800],null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":true,\"color\":\"darkred\",\"weight\":1,\"opacity\":0.5,\"fill\":true,\"fillColor\":\"darkred\",\"fillOpacity\":0.4},[\"<b>Location:<\\/b> Catalina, Antofagasta<br/><b>Mag:<\\/b> 6.3<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Central<br/><b>Mag:<\\/b> 7.8<br/><b>Total Deaths:<\\/b>  83\",\"<b>Location:<\\/b> Coquimbo, La Serena<br/><b>Mag:<\\/b> 6.9<br/><b>Total Deaths:<\\/b>   2\",\"<b>Location:<\\/b> Pozo Almonte, Oficina Victoria, Arica<br/><b>Mag:<\\/b> 7.3<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Off Central Coast, Las Cruces<br/><b>Mag:<\\/b> 7.5<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Northern:  Copoapo-Chanaral<br/><b>Mag:<\\/b> 7.3<br/><b>Total Deaths:<\\/b>   5\",\"<b>Location:<\\/b> Central Coast, San Antonio, Valparaiso<br/><b>Mag:<\\/b> 8.0<br/><b>Total Deaths:<\\/b> 180\",\"<b>Location:<\\/b> Valparaiso, Vina Del Mar<br/><b>Mag:<\\/b> 6.6<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Near Central Coast, Santiago-Valparaiso<br/><b>Mag:<\\/b> 7.5<br/><b>Total Deaths:<\\/b>   2\",\"<b>Location:<\\/b> Antofagasta, Arica<br/><b>Mag:<\\/b> 7.3<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Arica, Iquique<br/><b>Mag:<\\/b> 6.9<br/><b>Total Deaths:<\\/b>   5\",\"<b>Location:<\\/b> Arica<br/><b>Mag:<\\/b> 6.4<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Antofagasta, Calama, Mejillones<br/><b>Mag:<\\/b> 8.0<br/><b>Total Deaths:<\\/b>   3\",\"<b>Location:<\\/b> Pueblo Nuevo, Coquimbo, La Chimba<br/><b>Mag:<\\/b> 7.1<br/><b>Total Deaths:<\\/b>   8\",\"<b>Location:<\\/b> Tarapaca<br/><b>Mag:<\\/b> 7.7<br/><b>Total Deaths:<\\/b>  11\",\"<b>Location:<\\/b> Southern<br/><b>Mag:<\\/b> 6.2<br/><b>Total Deaths:<\\/b>  10\",\"<b>Location:<\\/b> Tocopilla, Maria Elena<br/><b>Mag:<\\/b> 7.7<br/><b>Total Deaths:<\\/b>   2\",\"<b>Location:<\\/b> Maule, Concepcion, Talcahuano<br/><b>Mag:<\\/b> 8.8<br/><b>Total Deaths:<\\/b> 558\",\"<b>Location:<\\/b> Parral, Santiago<br/><b>Mag:<\\/b> 7.2<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Valparaiso<br/><b>Mag:<\\/b> 6.7<br/><b>Total Deaths:<\\/b>   2\",\"<b>Location:<\\/b> Northern:  Iquique, Alto Hospicio<br/><b>Mag:<\\/b> 8.2<br/><b>Total Deaths:<\\/b>   7\",\"<b>Location:<\\/b> Central<br/><b>Mag:<\\/b> 8.3<br/><b>Total Deaths:<\\/b>  15\",\"<b>Location:<\\/b> Santiago<br/><b>Mag:<\\/b> 5.4<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Coquimbo, La Serena<br/><b>Mag:<\\/b> 6.7<br/><b>Total Deaths:<\\/b>   2\",\"<b>Location:<\\/b> South Central<br/><b>Mag:<\\/b> 6.1<br/><b>Total Deaths:<\\/b>   1\",\"<b>Location:<\\/b> Concepcion<br/><b>Mag:<\\/b> 6.8<br/><b>Total Deaths:<\\/b>   1\"],null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null,null]}],\"limits\":{\"lat\":[-45.243,-17.897],\"lng\":[-73.16200000000001,-68.92]}},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://karrrramba.github.io/quakr/reference/eq_location_clean.html","id":null,"dir":"Reference","previous_headings":"","what":"Extracts location information — eq_location_clean","title":"Extracts location information — eq_location_clean","text":"Helper function splits location name 'country' 'location'. International earthquake events assigned country individually. Transforms location names title case.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_location_clean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extracts location information — eq_location_clean","text":"","code":"eq_location_clean(data)"},{"path":"https://karrrramba.github.io/quakr/reference/eq_location_clean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extracts location information — eq_location_clean","text":"data data frame column names underscores (`_`) instead whitespaces lower letter case.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_location_clean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extracts location information — eq_location_clean","text":"data frame.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_location_clean.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extracts location information — eq_location_clean","text":"","code":"world %>%   janitor::clean_names(.) %>%   eq_location_clean() %>%   dplyr::select(location, country) %>%   head() #> # A tibble: 6 × 2 #>   location                country      #>   <chr>                   <chr>        #> 1 Bab-A-Daraa,Al-Karak    JORDAN       #> 2 W                       TURKMENISTAN #> 3 Ariha (Jericho)         ISRAEL       #> 4 Sw:  Timna Copper Mines JORDAN       #> 5 Macedonia               GREECE       #> 6 Euboea                  GREECE"},{"path":"https://karrrramba.github.io/quakr/reference/eq_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Draws a Map with Earthquake Locations — eq_map","title":"Draws a Map with Earthquake Locations — eq_map","text":"eq_map plots locations earthquake events geographical map     one multiple countries. Earthquake locations plotted     red circles labels size scaled based magnitude.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draws a Map with Earthquake Locations — eq_map","text":"","code":"eq_map(   data,   annot_col,   scaling_factor = 1,   color = \"darkred\",   provider = \"Esri.WorldTopoMap\" )"},{"path":"https://karrrramba.github.io/quakr/reference/eq_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draws a Map with Earthquake Locations — eq_map","text":"data data frame containing columns \"country\", \"magnitude\", \"longitude\" \"latitude\". latter two must values [deg]. annot_col vector values used labels. scaling_factor numeric value scales point size. Defaults 1. color Character value specifying color Earthquake locations. Defaults \"darkred\". provider Name map provider. See: https://leaflet-extras.github.io/leaflet-providers/preview/) available options. Defaults \"Esri.WorldTopoMap\".","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draws a Map with Earthquake Locations — eq_map","text":"interactive leaflet map.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/eq_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Draws a Map with Earthquake Locations — eq_map","text":"","code":"library(dplyr) # Plot earthquake events for a single country southamerica %>%   dplyr::filter(country == \"CHILE\" & lubridate::year(date) >= 1970) %>%   eq_map(annot_col = \"date\", scaling_factor = 5)  {\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addProviderTiles\",\"args\":[\"Esri.WorldTopoMap\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]},{\"method\":\"addCircles\",\"args\":[[-25.5,-32.5,-29.9,-20.52,-33.134,-26.535,-33.132,-32.663,-34.131,-24.388,-19.022,-17.897,-23.34,-30.933,-19.987,-45.243,-22.247,-36.122,-35.2,-32.625,-19.61,-31.573,-33.212,-30.04,-40.815,-35.473],[-69.2,-71.2,-71.3,-68.92,-73.074,-70.563,-71.708,-71.551,-71.61799999999999,-70.161,-69.991,-70.931,-70.294,-71.22,-69.197,-72.648,-69.89,-72.898,-72.217,-71.36499999999999,-70.76900000000001,-71.67400000000001,-70.626,-71.38200000000001,-72.002,-73.16200000000001],[31500,39000,34500,36500,37500,36500,40000,33000,37500,36500,34500,32000,40000,35500,38500,31000,38500,44000,36000,33500,41000,41500,27000,33500,30500,34000],null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":true,\"color\":\"darkred\",\"weight\":1,\"opacity\":0.5,\"fill\":true,\"fillColor\":\"darkred\",\"fillOpacity\":0.4},[\"1971-06-17\",\"1971-07-09\",\"1975-03-13\",\"1976-11-30\",\"1981-10-16\",\"1983-10-04\",\"1985-03-03\",\"1985-03-17\",\"1985-04-09\",\"1987-03-05\",\"1987-08-08\",\"1987-08-13\",\"1995-07-30\",\"1997-10-15\",\"2005-06-13\",\"2007-04-21\",\"2007-11-14\",\"2010-02-27\",\"2012-03-25\",\"2012-04-17\",\"2014-04-01\",\"2015-09-16\",\"2017-08-02\",\"2019-01-20\",\"2019-09-26\",\"2019-09-29\"],null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null,null]}],\"limits\":{\"lat\":[-45.243,-17.897],\"lng\":[-73.16200000000001,-68.92]}},\"evals\":[],\"jsHooks\":[]} # Plot earthquake events for multiple countries southamerica %>%   dplyr::filter(lubridate::year(date) > 2000) %>%   eq_map(annot_col = \"mag\", scaling_factor = 5)  {\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addProviderTiles\",\"args\":[\"Esri.WorldTopoMap\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]},{\"method\":\"addCircles\",\"args\":[[-16.265,-17.543,-14.258,-28.573,-19.987,-5.678,-45.243,-13.386,-22.247,-15.048,4.33,-15.986,-36.122,-24.872,-14.438,-35.2,-32.625,-19.61,-0.018,-13.843,-31.573,-25.467,8.467000000000001,8.522,0.382,0.495,-15.654,-15.312,0.875,-16.416,-33.212,-16.299,-10.721,-15.768,-1.744,1.067,10.773,-30.04,3.035,-2.186,-14.713,-5.796,-40.815,-35.473,-9.634,6.239,-12.687,0.909,-12.36,-2.04,-4.912,-2.837,-2.837,4.418],[-73.64100000000001,-72.077,-72.68300000000001,-65.84,-69.197,-76.398,-72.648,-76.60299999999999,-69.89,-44.231,-73.764,-71.748,-72.898,-65.602,-75.96599999999999,-72.217,-71.36499999999999,-70.76900000000001,-78.322,-71.69499999999999,-71.67400000000001,-64.48399999999999,-71.396,-71.387,-79.922,-79.616,-72.009,-70.827,-79.708,-73.636,-70.626,-73.474,-74.566,-74.709,-77.672,-77.27200000000001,-62.902,-71.38200000000001,-75.738,-77.051,-70.155,-75.298,-72.002,-73.16200000000001,-78.59099999999999,-76.098,-76.721,-79.589,-76.89,-79.81100000000001,-80.56,-79.84399999999999,-79.84399999999999,-73.511],[42000,38000,29000,30500,38500,37500,31000,40000,38500,23000,28000,31000,44000,31500,34500,36000,33500,41000,25500,24500,41500,29000,26500,25500,39000,34500,27500,31000,27000,32000,27000,28000,29000,35500,26000,24500,36500,33500,28000,37500,35000,40000,30500,34000,22500,25500,29000,29000,27000,28500,29000,34000,34000,31500],null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":true,\"color\":\"darkred\",\"weight\":1,\"opacity\":0.5,\"fill\":true,\"fillColor\":\"darkred\",\"fillOpacity\":0.4},[8.4,7.6,5.8,6.1,7.7,7.5,6.2,8,7.7,4.6,5.6,6.2,8.800000000000001,6.3,6.9,7.2,6.7,8.199999999999999,5.1,4.9,8.300000000000001,5.8,5.3,5.1,7.8,6.9,5.5,6.2,5.4,6.4,5.4,5.6,5.8,7.1,5.2,4.9,7.3,6.7,5.6,7.5,7,8,6.1,6.8,4.5,5.1,5.8,5.8,5.4,5.7,5.8,6.8,6.8,6.3],null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null,null]}],\"limits\":{\"lat\":[-45.243,10.773],\"lng\":[-80.56,-44.231]}},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline.html","id":null,"dir":"Reference","previous_headings":"","what":"Plots a timeline of earthquake events — geom_timeline","title":"Plots a timeline of earthquake events — geom_timeline","text":"Creates timeline geom ggplot2, can used visualize events intervals continuous time axis.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plots a timeline of earthquake events — geom_timeline","text":"","code":"geom_timeline(   mapping = NULL,   data = NULL,   stat = \"identity\",   position = \"identity\",   show.legend = NA,   inherit.aes = TRUE,   ... )"},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plots a timeline of earthquake events — geom_timeline","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat statistical transformation use data layer, either ggproto Geom subclass string naming stat stripped stat_ prefix (e.g. \"count\" rather \"stat_count\") position Position adjustment, either string naming adjustment (e.g. \"jitter\" use position_jitter), result call position adjustment function. Use latter need change settings adjustment. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. borders(). ... Arguments passed ggplot2::layer geom geometric object use display data, either ggproto Geom subclass string naming geom stripped geom_ prefix (e.g. \"point\" rather \"geom_point\") params Additional parameters geom stat. check.aes,check.param TRUE, default, check supplied parameters aesthetics understood geom stat. Use FALSE suppress checks. key_glyph legend key drawing function string providing function name minus draw_key_ prefix. See draw_key details. layer_class type layer object constructed. intended ggplot2 internal use .","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plots a timeline of earthquake events — geom_timeline","text":"layer ggproto object.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Plots a timeline of earthquake events — geom_timeline","text":"`geom_timeline()` understands following   aesthetics (required aesthetics bold): **`xmin`** - date value specifying left boundary timeline. **`xmax`** - date value specifying left boundary timeline. `y` - factor specifying stratification multiple timelines.     default one timeline plotted middle viewport. `linewidth` `linetype` `linecolour` `alpha` `colour` `shape` `size` `stroke`","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plots a timeline of earthquake events — geom_timeline","text":"","code":"library(ggplot2) library(dplyr)  # Single timeline without `y` aesthetic southamerica %>%   filter(country == \"CHILE\" & lubridate::year(date) >= 1970) %>%   ggplot(aes(x = date)) +   geom_timeline(aes(xmin = min(date), xmax = max(date)))   # Multiple timelines southamerica %>%   filter(lubridate::year(date) >= 1990) %>%   ggplot(aes(x = date, y = country)) +   geom_timeline(aes(xmin = min(date), xmax = max(date)))"},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Add labels to geom_timeline — geom_timeline_label","title":"Add labels to geom_timeline — geom_timeline_label","text":"function adds label timeline geom. distance timeline labels static `size` aesthetic specified calculated based max point size otherwise.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add labels to geom_timeline — geom_timeline_label","text":"","code":"geom_timeline_label(   mapping = NULL,   data = NULL,   stat = \"identity\",   position = \"identity\",   show.legend = NA,   n_max = NULL,   label_dodge = FALSE,   check_overlap = FALSE,   ...,   inherit.aes = TRUE )"},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add labels to geom_timeline — geom_timeline_label","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat statistical transformation use data layer, either ggproto Geom subclass string naming stat stripped stat_ prefix (e.g. \"count\" rather \"stat_count\") position Position adjustment, either string naming adjustment (e.g. \"jitter\" use position_jitter), result call position adjustment function. Use latter need change settings adjustment. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. n_max integer value limits number labels based values mapped `limit`. defined labels displayed. Defaults `NULL`. label_dodge Logical toggles vertically alternating orientation labels reduce overlapping. Defaults `FALSE`. check_overlap `TRUE`, text overlaps previous text layer plotted. `check_overlap` happens draw time order data. Therefore data arranged label column calling `geom_timeline_label()`. Defaults `FALSE`. ... Arguments passed ggplot2::layer geom geometric object use display data, either ggproto Geom subclass string naming geom stripped geom_ prefix (e.g. \"point\" rather \"geom_point\") params Additional parameters geom stat. check.aes,check.param TRUE, default, check supplied parameters aesthetics understood geom stat. Use FALSE suppress checks. key_glyph legend key drawing function string providing function name minus draw_key_ prefix. See draw_key details. layer_class type layer object constructed. intended ggplot2 internal use . inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. borders().","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add labels to geom_timeline — geom_timeline_label","text":"layer ggproto object.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline_label.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Add labels to geom_timeline — geom_timeline_label","text":"`geom_timeline_label()` understands following   aesthetics (required aesthetics bold):  **`label`** - vector specifying information displayed. `limit` - variable used conjunction `n_max` limit   number displayed labels equal `n_max`, based highest   values `limit_var`. Defaults `NULL`. `linewidth` `linetype` `linecolour` `alpha` `colour` `shape` `fontsize` `stroke`","code":""},{"path":"https://karrrramba.github.io/quakr/reference/geom_timeline_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add labels to geom_timeline — geom_timeline_label","text":"","code":"library(ggplot2) library(dplyr)  p <- southamerica %>%  filter(country == \"CHILE\" & lubridate::year(date) >= 1970) %>%  ggplot(aes(x = date)) +  geom_timeline(aes(xmin = min(date),xmax = max(date)))  p + geom_timeline_label(aes(label = location))   #use `label_dodge` to reduce overlapping p + geom_timeline_label(aes(label = location), label_dodge = TRUE)   #limit number of displayed labels based on earthquake magnitude p + geom_timeline_label(aes(label = mag))  #p + geom_timeline_label(aes(label = mag, limit = mag), n_max = 3)"},{"path":"https://karrrramba.github.io/quakr/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://karrrramba.github.io/quakr/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/southamerica.html","id":null,"dir":"Reference","previous_headings":"","what":"NCEI earthquake data — southamerica","title":"NCEI earthquake data — southamerica","text":"subset data National Centers Environmental Information earthquake database 05/2024. dataset contains earthquake data south american continent starting 1900 filtered complete observations.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/southamerica.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NCEI earthquake data — southamerica","text":"","code":"southamerica"},{"path":"https://karrrramba.github.io/quakr/reference/southamerica.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"NCEI earthquake data — southamerica","text":"data frame 4163 rows 7 columns: country, location Geopolitical location given country state, province, city, cardinal direction (N, S, W, E). longitude, latitude Location coordinates. Negative values represent locations west prime meridian, south equator respectively. date Date given %Y-%m-%d. mag Primary earthquake magnitude. total_deaths Number deaths earthquake secondary effects.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/southamerica.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"NCEI earthquake data — southamerica","text":"<https://www.ngdc.noaa.gov/hazel/view/hazards/earthquake/search>","code":""},{"path":"https://karrrramba.github.io/quakr/reference/world.html","id":null,"dir":"Reference","previous_headings":"","what":"NCEI earthquake data — world","title":"NCEI earthquake data — world","text":"subset data National Centers Environmental Information earthquake database.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/world.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NCEI earthquake data — world","text":"","code":"world"},{"path":"https://karrrramba.github.io/quakr/reference/world.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"NCEI earthquake data — world","text":"## `world` data frame 4841 rows 26 columns: Year, Mo, Dy, Hr, Min, Sec Date time. Negative 'Year' values indicate dates BCE. Location Name Country location. Given COUNTYRY: LOCATION. International events separated ';'. Latitude, Longitude Location coordinates. Negative values represent locations west prime meridian, south equator resp. Tsu Depth earthquake given kilometers. Vol Additional information earthquake associated volcanic eruption. Focal Depth (km) Depth earthquake given kilometers. Mag Primary earthquake magnitude. MMI (Int) Modified Mercalli Intensity (Int). interpretation values see Wood Neumann, 1931. Deaths, Total Deaths Number deaths earthquake secondary effects, resp. Missing, Total Missing Number missing persons earthquake secondary effects, resp. Injuries, Total Injuries Number injured earthquake secondary effects, resp. Damage ($Mil), Total Damage ($Mil) Damages U.S. dollars earthquake secondary effects, resp. Values multiplied 1,000,000 obtain actual dollar amount. Houses Destroyed, Total Houses Destroyed Number damaged housing earthquake secondary effects, resp. Houses Damaged, Total Houses Damaged Number destroyed housing earthquake secondary effects, resp.","code":""},{"path":"https://karrrramba.github.io/quakr/reference/world.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"NCEI earthquake data — world","text":"<https://www.ngdc.noaa.gov/hazel/view/hazards/earthquake/search>","code":""}]
